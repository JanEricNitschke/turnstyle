<h1>Playground</h1>

<div id="placeholder">Please upload a fileâ€¦</div>

<input id="upload" type="file" />

<script type="text/JavaScript">
    const upload = document.getElementById("upload");
    let placeholder = document.getElementById("placeholder");
    let interpreter = null;
    upload.onchange = () => {
        const file = upload.files[0];
        const reader = new FileReader();
        reader.readAsDataURL(file);
        reader.onload = async (e) => {
            if (interpreter) interpreter.pause();
            interpreter = new Interpreter(document, e.target.result);
            await interpreter.load();
            placeholder.replaceWith(interpreter.element);
            placeholder = interpreter.element;
            interpreter.run();
        };
    };
</script>
